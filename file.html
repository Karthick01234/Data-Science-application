<!doctype html>
<html>
<head>
<title> file reading application </title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
</head>
<style>
.highlight {
    color: red;
}
.highlight1 {
    color: blue;
}
th, td {
    text-align: left;
	padding: 8px;
	border:1px solid black;
}
tr:nth-child(even) { background-color: #f2f2f2 }
</style>
<body>
<div id="round">
<br> <br>
<svg onclick="upload()" style="position:absolute;left:40%;top:40%" id="bold" enable-background="new 0 0 24 24" height="45" viewBox="0 0 24 24" width="45" xmlns="http://www.w3.org/2000/svg"><path d="m13.25 23h-2.5c-.689 0-1.25-.561-1.25-1.25v-4.25h-2.25c-.3 0-.571-.179-.689-.454s-.061-.595.145-.813l4.75-5c.283-.298.805-.298 1.088 0l4.75 5c.206.217.264.537.146.813s-.39.454-.69.454h-2.25v4.25c0 .689-.561 1.25-1.25 1.25z"/><path d="m18.673 4.927c-1.312-2.399-3.884-3.927-6.673-3.927-3.545 0-6.62 2.465-7.397 5.829-2.584.272-4.603 2.442-4.603 5.071 0 2.595 1.976 4.72 4.512 5.036-.051-.753.204-1.51.743-2.078l4.751-5.001c1.023-1.076 2.966-1.076 3.987 0l4.751 5c.502.529.757 1.221.75 1.921 2.593-.708 4.506-3.057 4.506-5.845 0-3.066-2.307-5.625-5.327-6.006z"/></svg>
<p style="position:absolute;left:39%;top:48%" id="p1"> Upload File </p>
<svg onclick="upload1()" style="position:absolute;right:40%;top:40%" align="right" id="bold" enable-background="new 0 0 24 24" height="45" viewBox="0 0 24 24" width="45" xmlns="http://www.w3.org/2000/svg"><path d="m13.25 23h-2.5c-.689 0-1.25-.561-1.25-1.25v-4.25h-2.25c-.3 0-.571-.179-.689-.454s-.061-.595.145-.813l4.75-5c.283-.298.805-.298 1.088 0l4.75 5c.206.217.264.537.146.813s-.39.454-.69.454h-2.25v4.25c0 .689-.561 1.25-1.25 1.25z"/><path d="m18.673 4.927c-1.312-2.399-3.884-3.927-6.673-3.927-3.545 0-6.62 2.465-7.397 5.829-2.584.272-4.603 2.442-4.603 5.071 0 2.595 1.976 4.72 4.512 5.036-.051-.753.204-1.51.743-2.078l4.751-5.001c1.023-1.076 2.966-1.076 3.987 0l4.751 5c.502.529.757 1.221.75 1.921 2.593-.708 4.506-3.057 4.506-5.845 0-3.066-2.307-5.625-5.327-6.006z"/></svg>
<p style="position:absolute;right:39%;top:48%" id="p2"> Upload File </p>
</div>
<input style="display:none" type="file" id="a" />
<input style="display:none" type="file" id="b" />
<div  align="middle" style="display:none" id="but">
<button onclick="my()" style="width:120px;height:60px;background-color:green;border:2px solid green"> Get File Info </button>
</div>
<div id="text"></div>
</body>
<script>
var input = document.getElementById("a");
var input1 = document.getElementById("b");
var pg1=document.createElement("table")
pg1.style="width:100%;display:none"
var mismatch=document.createElement("table")
mismatch.style="width:100%;display:none"
var match=document.createElement("table")
match.style="width:100%;display:none"
function upload() { // for upload image
	input.click();
}
function upload1() { // for upload image
	input1.click();
}
var result='';
var name='';
var result1='';
var name1='';
var start=false
input.onchange = function () { // for upload image
	var file = input.files[0];
	name=file.name
	var reader = new FileReader()
	reader.readAsText(file)
	reader.onload = function() {
	    result = reader.result
	}
	reader.onerror = function() {
	    console.log(reader.error);
	}
	reader.onloadend = function() {
	  if(input1.files[0]) {
	    document.getElementById("round").style.display="none"
		document.getElementById("but").style.display="block"
	  }
	  else {
	     document.getElementById("p1").innerHTML=name;
	  }
	}
}
input1.onchange = function () { // for upload image
	var file = input1.files[0];
	name1=file.name
	var reader = new FileReader()
	reader.readAsText(file)
	reader.onload = function() {
	    result1 = reader.result
	}
	reader.onerror = function() {
	    console.log(reader.error);
	}
	reader.onloadend = function() {
	  if(input.files[0]) {
	    document.getElementById("round").style.display="none"
		document.getElementById("but").style.display="block"
	  }
	  else {
	     document.getElementById("p2").innerHTML=name1;
	  }
	}
}
function my() {
     document.getElementById("but").style.display="none"
	 var ma = document.getElementById("text")
	 ma.style.display="block"
	 arr=result.split("\n")
	 arr1=result1.split("\n")
	 var n=arr.length
	 var n1=arr1.length
	 var pg=document.createElement("table")
	 pg.style="width:100%"
	 var summary=document.createElement("tr")
	 summary.style.width="100%"
	 var summary1=document.createElement("th")
	 var summary2=document.createElement("th")
	 summary1.innerHTML="The file "+name+" contains "+n+" number of Lines"
	 summary2.innerHTML="The file "+name1+" contains "+n1+" number of Lines"
	 summary1.style.width="55%"
	 summary2.style.width="45%"
	 summary.appendChild(summary1) 
	 summary.appendChild(summary2)
	 pg.appendChild(summary)
	 var arow = document.createElement("tr")
     arow.style="width:100%;text-align:center"
	 var acolumn1 =  document.createElement("td")
	 acolumn1.style="width:5%;text-align:center"
	 var acolumn2 =  document.createElement("td")
	 acolumn2.style="width:40%;text-align:center"
	 var acolumn3 =  document.createElement("td")
	 acolumn3.style="width:10%;text-align:center"
	 var acolumn4 =  document.createElement("td")
	 acolumn4.style="width:5%;text-align:center"
	 var acolumn5 =  document.createElement("td")
	 acolumn5.style="width:40%;text-align:center"
	 acolumn1.innerHTML=" Line No "
	 acolumn2.innerHTML=" File 1 "
	 acolumn3.innerHTML=" Differences "
	 acolumn4.innerHTML=" Line No "
	 acolumn5.innerHTML=" File 1 "
	 arow.appendChild(acolumn1)
	 arow.appendChild(acolumn2)
	 arow.appendChild(acolumn3)
	 arow.appendChild(acolumn4)
	 arow.appendChild(acolumn5)
	 pg1.appendChild(arow.cloneNode(true))
	 mismatch.appendChild(arow.cloneNode(true))
	 match.appendChild(arow.cloneNode(true))
	 for(var i=0;i<n && i < n1;i++) {
	 if(arr[i].trim() && arr1[i].trim()) {
	 text=''
	 text1=''
	 check = arr[i].split(' ')
	 check1 = arr1[i].split(' ')
	 var k=check.length
	 var k1=check1.length
	 var max=Math.max(k, k1)
	 var torf=false
	 for(var j=0;j<max;j++) {
	   if(check[j] && check1[j]) {
	    if(check[j] === check1[j]) {
		   text += check[j].trim()+" " 
		   text1 += check1[j].trim()+" "
		}
		else {
		    torf=true
			text += "<span class='highlight'>"+check[j].trim()+" </span>"
		    text1 += "<span class='highlight1'>"+check1[j].trim()+" </span>"
		}
	   }
	   else {
	      if(check[j]) {
		    text += "<span class='highlight'>"+check[j].trim()+" </span>"
		  }
		  if(check1[j]) {
			text1 += "<span class='highlight1'>"+check1[j].trim()+" </span>"
		  }
	   }
	 }
	 var row =  document.createElement("tr")
	 row.style.width="100%"
	 var column1 =  document.createElement("td")
	 column1.style.width="5%"
	 var column2 =  document.createElement("td")
	 column2.style.width="40%"
	 var column3 =  document.createElement("td")
	 column3.style.width="10%"
	 var column4 =  document.createElement("td")
	 column4.style.width="5%"
	 var column5 =  document.createElement("td")
	 column5.style.width="40%"
	 var no=i+1
	 column1.innerHTML=" "+no+" ) "
	 column2.innerHTML=text
	 if(torf) {
	    column3.innerHTML=" MISMATCH "
	 }
	 else {
	    column3.innerHTML=" MATCH "
	 }
	 column4.innerHTML=" "+no+" ) "
	 column5.innerHTML=text1
	 row.appendChild(column1)
	 row.appendChild(column2)
	 row.appendChild(column3)
	 row.appendChild(column4)
	 row.appendChild(column5)
	 pg1.appendChild(row.cloneNode(true))
	 if(torf) {
	    mismatch.appendChild(row.cloneNode(true))
	 }
	 else {
	     match.appendChild(row.cloneNode(true))
	 }
	 console.log(torf)
	 }
	 torf=false
	 }
	 ma.appendChild(pg)
	 ma.appendChild(pg1)
	 pg1.style.display=""
	 ma.appendChild(mismatch)
	 mismatch.style.display="none"
	 ma.appendChild(match)
	 match.style.display="none"
	 start=true
}
document.onkeydown = (e) => {
  if (e.ctrlKey && e.key === 's') {
    e.preventDefault();
	if(start) {
    var value = prompt("Please search keyword :", "match or mismatch");
	value = value.toLowerCase()
	if(value == "match") {
	   match.style.display=""
	   mismatch.style.display="none"
	   pg1.style.display="none"
	}
	else if(value == "mismatch") {
	   match.style.display="none"
	   mismatch.style.display=""
	   pg1.style.display="none"
	}
	else {
	   match.style.display="none"
	   mismatch.style.display="none"
	   pg1.style.display=""
	}
	}
  }
}
</script>
</html>